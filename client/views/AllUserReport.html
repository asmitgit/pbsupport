<div class="container-fluid">
    <div class="block-header">
        <div class="row">
            <div class="col-lg-6 col-md-8 col-lg-12">

                <ul class="breadcrumb adv_search">
                    <!--<li class="breadcrumb-item"><a href="index.html"><i class="icon-home"></i></a></li>-->
                    <li class="breadcrumb-item active">Supervisor Report</li>
                </ul>

            </div>

        </div>
    </div>
    <div class="row clearfix">
        <div class="col-md-12">
            <div class="card">

                <div class="body">
                    <div class="table-responsive">
                        <div class="inner_table">
                            <table class="table" ng-show="Report.length>0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th>Sno </th>
                                        <th>Spoc </th>
                                        <th>New</th>
                                        <th>Open</th>
                                        <th>TAT Bust</th>
                                        <th>Closed</th>
                                        <th>Support Required</th>
                                        <th>Resolved</th>
                                        <!--<th>MTD Closed</th>-->
                                    </tr>
                                </thead>

                                <tbody ng-repeat="dataResponse in Report  | orderBy : data.OriginalSNO ">
                                    <tr>
                                        <td>{{dataResponse.SNO}}</td>
                                        <td><a href="javascript:void(0)" ng-click="GetAllUserReportByID(dataResponse,$index)" ng-show="dataResponse.HasChild=='Yes' && dataResponse.IsClicked=='0'">+{{dataResponse.Name}}({{dataResponse.EmployeeID}})</a> <span ng-show="dataResponse.HasChild=='No' || dataResponse.IsClicked=='1'">{{dataResponse.Name}}({{dataResponse.EmployeeID}})</span> </td>
                                        <td ng-click="GetAllUserReportData(dataResponse,2,dataResponse.NewTickets,dataResponse.IsOwn)" style="cursor:pointer">{{dataResponse.NewTickets}}</td>
                                        <td ng-click="GetAllUserReportData(dataResponse,3,dataResponse.OpenTickets,dataResponse.IsOwn)" style="cursor:pointer">{{dataResponse.OpenTickets}}</td>
                                        <td ng-click="GetAllUserReportData(dataResponse,4,dataResponse.TATTickets,dataResponse.IsOwn)" style="cursor:pointer">{{dataResponse.TATTickets}}</td>
                                        <td ng-click="GetAllUserReportData(dataResponse,5,dataResponse.ClosedTickets,dataResponse.IsOwn)" style="cursor:pointer">{{dataResponse.ClosedTickets}}</td>
                                        <td ng-click="GetAllUserReportData(dataResponse,7,dataResponse.SupportRequired,dataResponse.IsOwn)" style="cursor:pointer">{{dataResponse.SupportRequired}}</td>
                                        <td ng-click="GetAllUserReportData(dataResponse,8,dataResponse.Resolved,dataResponse.IsOwn)" style="cursor:pointer">{{dataResponse.Resolved}}</td>
                                        <!--<td ng-click="GetAllUserReportData(dataResponse,7)" style="cursor:pointer">{{dataResponse.MTDClosedTickets}}</td>-->
                                    </tr>
                                    <tr>
                                        <td colspan="8" class="tkt_detailbox" ng-show="dataResponse.SubData.length>0">

                                            <div class="card detialbox supervisor_block">
                                                <div class="body expand_table">
                                                    <div class="table-responsive">

                                                        <table class="table">
                                                            <thead>
                                                                <tr>
                                                                    <th>SNO</th>
                                                                    <th>Ticket#</th>
                                                                    <th>Date</th>
                                                                    <th>Issue</th>
                                                                    <th>Sub Issue</th>
                                                                    <th>Status</th>
                                                                    <th>Last Updated on</th>
                                                                    <th>Emp ID</th>
                                                                    <th>Emp Name</th>
                                                                    <th>AssignTo</th>
                                                                    <th>TAT</th>
                                                                    <th>FollowUp</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="childData in dataResponse.SubData | orderBy : 'childData.CreatedON' :true">
                                                                    <td>{{$index+1}}</td>
                                                                    <td><a class="btn btn-link mybtn-link" href="home.html#/pbsupport/TicketDetails/{{childData.TicketID}}">{{childData.TicketDispID}}</a></td>
                                                                    <td>{{childData.CreatedON | date:'medium'}}</td>
                                                                    <td>{{childData.ISSUENAME}}</td>
                                                                    <td>{{childData.SUBISSUENAME}}</td>
                                                                    <td>{{childData.StatusName}}</td>
                                                                    <td>{{childData.LastUpdatedOn | date:"dd-MM-yyyy  h:mma"}}</td>
                                                                    <td>{{childData.EmployeeID}}</td>
                                                                    <td>{{childData.Name}}</td>
                                                                    <td>{{childData.AssignToName}}({{childData.AssignToEmpID}})</td>
                                                                    <td>{{childData.TATDate | date:"dd-MM-yyyy  h:mma"}}</td>
                                                                    <td>{{childData.FollowUp && childData.FollowUp!=null ? (childData.FollowUp | date:"dd-MM-yyyy"):''}}</td>
                                                                </tr>

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>



                                </tbody>

                            </table>
                            </div>
                            <div ng-show="!Report || Report.length<=0">No record found</div>
                        </div>
                </div>
            </div>
        </div>
    </div>


</div>


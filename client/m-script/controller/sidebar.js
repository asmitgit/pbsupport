HRSupport.controller("SideBarCTRL", function (e, t, a, i, o, s, l) { e.UserDetails = JSON.parse(l.localStorage.getItem("UserDetails")), e.cancel = function () { (void 0).close() }, e.Selected = { city_name: void 0, area_name: void 0, building_name: void 0 }, e.IsDataExists = 0, e.getlocationmaster = function () { 1 != e.UserDetails.IsLocSet && t.getlocationmaster(e.UserDetails.Toket).success(function (t) { null != t.data && (e.UserDetails.LocationMaster = t.data.length > 1 ? t.data[0] : [], e.UserDetails.Location.length > 0 ? (e.IsDataExists = 1, e.Selected = { city_name: { city_name: e.UserDetails.Location[0].City }, floor: { floor_name: e.UserDetails.Location[0].FloorNo }, building_name: { city_name: e.UserDetails.Location[0].City, area_name: e.UserDetails.Location[0].Sector, building_name: e.UserDetails.Location[0].Building } }) : e.Selected = { city_name: { city_name: "Gurugram" } }) }) }, e.getlocationmaster(), e.UpdateLocation = function () { if (e.isEmpty(e.Selected.building_name) || e.isEmpty(e.Selected.floor) || e.isEmpty(e.Selected.city_name) || e.isEmpty(e.UserDetails.Location) || !(e.UserDetails.Location.length > 0)) alert("Please enter valid information."); else if (e.isEmpty(e.UserDetails.Location[0].Seat)) alert("Please enter valid information."); else { var a = { EmployeeID: e.UserDetails.EMPData[0].EmployeeID, State: e.UserDetails.Location[0].State, City: e.Selected.city_name.city_name, Sector: "", Building: e.Selected.building_name.building_name, FloorNo: e.Selected.floor.floor_name, Seat: e.UserDetails.Location[0].Seat }; t.UpdateLocation(a, e.UserDetails.Toket).success(function (t) { null != t.data && (e.UserDetails.Location = t.data.length > 1 ? t.data[0] : [], e.UserDetails.IsLocSet = 1, l.localStorage.setItem("UserDetails", JSON.stringify(e.UserDetails))) }) } }, e.isEmpty = function (e) { return "string" == typeof e && !e.trim() || void 0 === e || null === e }, e.Skip = function () { 1 == e.IsDataExists ? (e.UserDetails.IsLocSet = 1, l.localStorage.setItem("UserDetails", JSON.stringify(e.UserDetails))) : alert("You cann't skip without saving your location details") }, e.MenuActive = function (t) { e.ActiveBar = t }, e.ActiveBar = 1 }), HRSupport.controller("HeaderCTRL", function (e, t, a, i, o, s, l) { e.UserDetails = JSON.parse(l.localStorage.getItem("UserDetails")); var n = notURL; n = (n = (n = n.replace("@empid", e.UserDetails.EMPData[0].EmployeeID)).replace("@eid", e.UserDetails.EMPData[0].EmployeeID)).replace("@role", e.UserDetails.EMPData[0].RoleID), e.NotificationURL = s.trustAsResourceUrl(n), e.cancel = function () { (void 0).close() }, e.LogOut = function () { var a = { email: e.UserDetails.EMPData[0].EmployeeID }; t.LogOut(a, e.UserDetails.Toket).success(function (e) { null != e.data && (l.localStorage.removeItem("UserDetails"), l.location.href = "/") }) } });